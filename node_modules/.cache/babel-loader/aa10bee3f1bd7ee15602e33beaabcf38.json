{"ast":null,"code":"import _createForOfIteratorHelper from\"/Users/yukyung/Desktop/react/project-gung/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _slicedToArray from\"/Users/yukyung/Desktop/react/project-gung/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import dataM from'../data/gogungCategory.json';import dataD from'../data/gogungListOpenApi.json';import favorite_border_white_24dp from'../img/favorite_border_white_24dp.svg';import favorite_red_24dp from'../img/favorite_red_24dp.svg';import{useParams,useNavigate}from'react-router-dom';import{useRef,useEffect,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function List(_ref){var sort=_ref.sort;var http=dataM.http;var elBlock=useRef([]);var elList=useRef([]);var navigate=useNavigate();var num=useParams();var gungNum=Number(num.num)+1;var _useState=useState(),_useState2=_slicedToArray(_useState,2),elDivblock=_useState2[0],setelDivblock=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),elDivlist=_useState4[0],setelDivlist=_useState4[1];var select={sort:sort};// 상세페이지 연동\nfunction moveDetail(e){var dNum=e.target.dataset.s;if(e.target.dataset.s)e.target=navigate(\"/listdetail/\".concat(dNum));}//목록 정렬\nif(select.sort==0){dataD.list.sort(function(a,b){if(a.contents_kor>b.contents_kor){return 1;}if(a.contents_kor<b.contents_kor){return-1;}return 0;});}else if(select.sort==1){dataD.list.sort(function(a,b){if(a.contents_kor<b.contents_kor){return 1;}if(a.contents_kor>b.contents_kor){return-1;}return 0;});}// 하트 누르기\nfunction hart(e){if(e.target.className==\"list-like1\"){e.target.parentNode.children[0].classList.add('active');e.target.parentNode.children[1].classList.add('active');}else if(e.target.className=='list-like2 active'){e.target.parentNode.children[0].classList.remove('active');e.target.parentNode.children[1].classList.remove('active');}}// 궁번호에 따른 데이터 리스트 필터\nuseEffect(function(){var block='';var list='';var _iterator=_createForOfIteratorHelper(dataD.list),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var v=_step.value;if(v.gung_number==gungNum){block+=\"<div data-s=\".concat(v.serial_number,\" class=\\\"block-contents-contain\\\">\\n                            <p class=\\\"block-content-img\\\">\\n                                <img data-s=\").concat(v.serial_number,\" src=\").concat(http+v.imgUrl,\" alt=\\\"\\uCD9C\\uCC98:\\uBB38\\uD654\\uC7AC\\uCCAD\\\"/>\\n                                <span data-s=\").concat(v.serial_number,\">\").concat(v.contents_kor,\"</span>\\n                            </p>\\n                            <span class=\\\"list-like\\\">\\n                                <img class=\\\"list-like1\\\" src=\").concat(favorite_border_white_24dp,\" alt=\\\"\\uC88B\\uC544\\uC694\\\"/>\\n                                <img class=\\\"list-like2\\\" src=\").concat(favorite_red_24dp,\" alt=\\\"\\uC88B\\uC544\\uC694\\\"/>\\n                            </span>\\n                        </div>\");list+=\"<div data-s=\".concat(v.serial_number,\" class='list-contents-contain'>\\n                            <p><img data-s=\").concat(v.serial_number,\" src=\").concat(http+v.imgUrl,\" alt=\\\"\\uCD9C\\uCC98:\\uBB38\\uD654\\uC7AC\\uCCAD\\\"/></p>\\n                            <span class=\\\"list-like\\\">\\n                                <img class=\\\"list-like1\\\" src=\").concat(favorite_border_white_24dp,\" alt=\\\"\\uC88B\\uC544\\uC694\\\"/>\\n                                <img class=\\\"list-like2\\\" src=\").concat(favorite_red_24dp,\" alt=\\\"\\uC88B\\uC544\\uC694\\\"/>\\n                            </span>\\n                            <p data-s=\").concat(v.serial_number,\" class=\\\"list-content-text\\\">\\n                                <span data-s=\").concat(v.serial_number,\">\").concat(v.serial_number,\"</span>\\n                                <span data-s=\").concat(v.serial_number,\">\").concat(v.contents_kor,\"</span>\\n                                <span data-s=\").concat(v.serial_number,\">\").concat(v.explanation_kor,\"</span>\\n                            </p>\\n                        </div>\");}}}catch(err){_iterator.e(err);}finally{_iterator.f();};setelDivblock(block);setelDivlist(list);},[num,select]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{ref:elBlock,onClick:function onClick(e){moveDetail(e);hart(e);},className:\"block-contents-wrap active\",dangerouslySetInnerHTML:{__html:elDivblock}}),/*#__PURE__*/_jsx(\"div\",{ref:elList,onClick:function onClick(e){moveDetail(e);hart(e);},className:\"mwidth list-contents-wrap\",dangerouslySetInnerHTML:{__html:elDivlist}})]});}export default List;","map":{"version":3,"sources":["/Users/yukyung/Desktop/react/project-gung/src/component/List.js"],"names":["dataM","dataD","favorite_border_white_24dp","favorite_red_24dp","useParams","useNavigate","useRef","useEffect","useState","List","sort","http","elBlock","elList","navigate","num","gungNum","Number","elDivblock","setelDivblock","elDivlist","setelDivlist","select","moveDetail","e","dNum","target","dataset","s","list","a","b","contents_kor","hart","className","parentNode","children","classList","add","remove","block","v","gung_number","serial_number","imgUrl","explanation_kor","__html"],"mappings":"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","sourcesContent":["import dataM from '../data/gogungCategory.json';\nimport dataD from '../data/gogungListOpenApi.json';\n\nimport favorite_border_white_24dp from '../img/favorite_border_white_24dp.svg';\nimport favorite_red_24dp from '../img/favorite_red_24dp.svg';\n\n\nimport { useParams, useNavigate } from 'react-router-dom';\nimport {useRef, useEffect, useState} from \"react\";\n\nfunction List({sort}){\n    const http = dataM.http;\n    const elBlock = useRef([]);\n    const elList = useRef([]);\n\n    let navigate = useNavigate();\n    let num=useParams();\n    let gungNum = Number(num.num)+1;\n\n    let [elDivblock, setelDivblock] = useState();\n    let [elDivlist, setelDivlist] = useState();\n    let select= {sort};\n    \n    // 상세페이지 연동\n    function moveDetail(e){\n        let dNum = e.target.dataset.s;\n        if(e.target.dataset.s)\n        e.target = navigate(`/listdetail/${dNum}`);\n    }\n\n    //목록 정렬\n    if(select.sort==0){\n        dataD.list.sort(function(a,b){\n            if(a.contents_kor > b.contents_kor){\n                return 1;\n            }\n            if(a.contents_kor < b.contents_kor){\n                return -1;\n            }\n            return 0;\n        })\n    }else if(select.sort==1){\n        dataD.list.sort(function(a,b){\n            if(a.contents_kor < b.contents_kor){\n                return 1;\n            }\n            if(a.contents_kor > b.contents_kor){\n                return -1;\n            }\n            return 0;\n        })\n    }\n\n    // 하트 누르기\n    function hart(e){\n        if(e.target.className==\"list-like1\"){\n            e.target.parentNode.children[0].classList.add('active');\n            e.target.parentNode.children[1].classList.add('active');\n        }else if(e.target.className=='list-like2 active'){\n            e.target.parentNode.children[0].classList.remove('active');\n            e.target.parentNode.children[1].classList.remove('active');\n        }\n    }\n\n    // 궁번호에 따른 데이터 리스트 필터\n    useEffect (()=>{\n        let block='';\n        let list='';\n\n        for(let v of dataD.list){\n            if(v.gung_number == gungNum){\n                block+=`<div data-s=${v.serial_number} class=\"block-contents-contain\">\n                            <p class=\"block-content-img\">\n                                <img data-s=${v.serial_number} src=${http+v.imgUrl} alt=\"출처:문화재청\"/>\n                                <span data-s=${v.serial_number}>${v.contents_kor}</span>\n                            </p>\n                            <span class=\"list-like\">\n                                <img class=\"list-like1\" src=${favorite_border_white_24dp} alt=\"좋아요\"/>\n                                <img class=\"list-like2\" src=${favorite_red_24dp} alt=\"좋아요\"/>\n                            </span>\n                        </div>`;\n                list+=`<div data-s=${v.serial_number} class='list-contents-contain'>\n                            <p><img data-s=${v.serial_number} src=${http+v.imgUrl} alt=\"출처:문화재청\"/></p>\n                            <span class=\"list-like\">\n                                <img class=\"list-like1\" src=${favorite_border_white_24dp} alt=\"좋아요\"/>\n                                <img class=\"list-like2\" src=${favorite_red_24dp} alt=\"좋아요\"/>\n                            </span>\n                            <p data-s=${v.serial_number} class=\"list-content-text\">\n                                <span data-s=${v.serial_number}>${v.serial_number}</span>\n                                <span data-s=${v.serial_number}>${v.contents_kor}</span>\n                                <span data-s=${v.serial_number}>${v.explanation_kor}</span>\n                            </p>\n                        </div>`;\n            }\n        };\n        setelDivblock(block)\n        setelDivlist(list)\n    },[num, select]);\n    \n    return(\n        <>\n            <div ref={elBlock} onClick={(e)=>{moveDetail(e); hart(e);}} className='block-contents-wrap active' dangerouslySetInnerHTML={ {__html: elDivblock} }>\n            </div>\n            <div ref={elList} onClick={(e)=>{moveDetail(e); hart(e);}} className='mwidth list-contents-wrap' dangerouslySetInnerHTML={ {__html: elDivlist} }>\n            </div>\n        </>\n    );\n}\nexport default List;"]},"metadata":{},"sourceType":"module"}