{"ast":null,"code":"import _slicedToArray from\"/Users/yukyung/Desktop/react/project-gung/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import dataM from'../data/gogungCategory.json';import dataD from'../data/gogungListOpenApi.json';import search_white_24dp from'../img/search_white_24dp.svg';import{Link}from'react-router-dom';import{useState,useEffect}from\"react\";import{useParams,useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Search(){var _search;var http=dataM.http;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),search=_useState2[0],setSearch=_useState2[1];var navigate=useNavigate();var num=0;var text='';// 랜덤 이미지+문구\nnum=Math.floor(Math.random()*dataD.list.length);text=\"\\uC624\\uB298\\uC740 \\\"\".concat(dataD.list[num].contents_kor,\"\\\"\\uC5D0 \\uAC00\\uBCFC\\uAE4C?\");// 검색 기능\nfunction letmesearch(e){var value=e.target.value.toLowerCase();//let value = 'hong'\n// console.log(value);\nif(value){search=dataD.list.filter(function(data){return data.contents_kor.search(value)!=-1;});}else{setSearch([]);}// console.log(search)\nif(search.length)setSearch(search);}// 상세페이지 연동\nfunction moveDetail(e){var dNum=e.target.dataset.s;if(e.target.dataset.s)e.target=navigate(\"/listdetail/\".concat(dNum));}function gungNum(n){var gung=dataM.gogung[n].gung_Name;return gung;}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"search\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"img\",{src:http+dataD.list[num].imgUrl,alt:\"\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mwidth search-bar\",children:[/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"img\",{src:search_white_24dp,alt:\"\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:text,onChange:function onChange(e){return letmesearch(e);}})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mwidth result\",children:(_search=search)===null||_search===void 0?void 0:_search.map(function(v,k){return/*#__PURE__*/_jsxs(\"div\",{\"data-s\":v.serial_number,className:\"result-content\",onClick:moveDetail,children:[/*#__PURE__*/_jsx(\"p\",{\"data-s\":v.serial_number,children:v.serial_number},k),/*#__PURE__*/_jsx(\"p\",{\"data-s\":v.serial_number,children:v.contents_kor},k),/*#__PURE__*/_jsxs(\"p\",{\"data-s\":v.serial_number,children:[\"(\",gungNum(v.gung_number-1),\")\"]},k)]},k);})})]});}export default Search;","map":{"version":3,"sources":["/Users/yukyung/Desktop/react/project-gung/src/component/Search.js"],"names":["dataM","dataD","search_white_24dp","Link","useState","useEffect","useParams","useNavigate","Search","http","search","setSearch","navigate","num","text","Math","floor","random","list","length","contents_kor","letmesearch","e","value","target","toLowerCase","filter","data","moveDetail","dNum","dataset","s","gungNum","n","gung","gogung","gung_Name","imgUrl","map","v","k","serial_number","gung_number"],"mappings":"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","sourcesContent":["import dataM from '../data/gogungCategory.json';\r\nimport dataD from '../data/gogungListOpenApi.json';\r\nimport search_white_24dp from '../img/search_white_24dp.svg';\r\n\r\nimport {Link} from 'react-router-dom';\r\nimport { useState, useEffect } from \"react\";\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\n\r\nfunction Search(){\r\n    const http = dataM.http;\r\n    let [search, setSearch] = useState([]);\r\n    let navigate = useNavigate();\r\n    let num = 0;\r\n    let text = '';\r\n\r\n    // 랜덤 이미지+문구\r\n    num = Math.floor(Math.random()*dataD.list.length);\r\n    text = `오늘은 \"${dataD.list[num].contents_kor}\"에 가볼까?`;\r\n    \r\n    // 검색 기능\r\n    function letmesearch(e){\r\n        let value = e.target.value.toLowerCase();\r\n        //let value = 'hong'\r\n        // console.log(value);\r\n\r\n        if(value){\r\n            search = dataD.list.filter((data) => {\r\n            return data.contents_kor.search(value) != -1;\r\n            });\r\n        }else{\r\n            setSearch([]);\r\n        }\r\n        // console.log(search)\r\n        if(search.length) setSearch(search);\r\n    }\r\n\r\n        // 상세페이지 연동\r\n        function moveDetail(e){\r\n            let dNum = e.target.dataset.s;\r\n            if(e.target.dataset.s)\r\n            e.target = navigate(`/listdetail/${dNum}`);\r\n        }\r\n\r\n        function gungNum(n){\r\n            let gung = dataM.gogung[n].gung_Name;\r\n            return gung;\r\n        }\r\n\r\n    return(\r\n        <>\r\n            <div className='search'>\r\n                <p>\r\n                    <span></span>\r\n                    <img src={http+dataD.list[num].imgUrl} alt=\"\"/>\r\n                </p>\r\n                <div className='mwidth search-bar'>\r\n                    <span><img src={search_white_24dp} alt=\"\"/></span>\r\n                    <input type=\"text\" placeholder={text} \r\n                        onChange={(e)=>letmesearch(e)} \r\n                    />\r\n                </div>\r\n            </div>\r\n            <div className='mwidth result'>\r\n                {search?.map((v,k)=>{\r\n                    return(\r\n                        <div key={k} data-s={v.serial_number} className='result-content' onClick={moveDetail}>\r\n                            <p key={k} data-s={v.serial_number}>{v.serial_number}</p>\r\n                            <p key={k} data-s={v.serial_number}>{v.contents_kor}</p>\r\n                            <p key={k} data-s={v.serial_number}>({gungNum(v.gung_number -1)})</p>\r\n                        </div>\r\n                    );\r\n                    })}\r\n\r\n            </div>\r\n        </>\r\n    );\r\n}\r\nexport default Search;"]},"metadata":{},"sourceType":"module"}